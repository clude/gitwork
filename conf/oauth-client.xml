<?xml version="1.0" encoding="UTF-8"?><beans xmlns="http://www.springframework.org/schema/beans"       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"       xmlns:oauth="http://www.springframework.org/schema/security/oauth2"       xsi:schemaLocation="http://www.springframework.org/schema/beans         http://www.springframework.org/schema/beans/spring-beans-3.2.xsd         http://www.springframework.org/schema/security/oauth2         http://www.springframework.org/schema/security/spring-security-oauth2.xsd">    <!--apply the oauth client context -->    <oauth:client id="oauth2ClientFilter"/>    <oauth:resource id="google"                    type="authorization_code"                    client-id="${google.calendar.client.id}"                    client-secret="${google.calendar.client.secret}"                    access-token-uri="https://accounts.google.com/o/oauth2/token"                    user-authorization-uri="https://accounts.google.com/o/oauth2/auth"                    scope="https://www.googleapis.com/auth/calendar"                    client-authentication-scheme="form"            />    <oauth:rest-template id="googleCalendarRestTemplate" resource="google" access-token-provider="accessTokenProviderChain"/>    <!--        see OAuth2RestTemplate; configuration has to be duplicated here to provide the same authorization token providers        but use a different implementation for client token services     -->    <bean id="accessTokenProviderChain" class="org.springframework.security.oauth2.client.token.AccessTokenProviderChain">        <constructor-arg index="0">            <list>                <bean class="org.springframework.security.oauth2.client.token.grant.code.AuthorizationCodeAccessTokenProvider"/>                <bean class="org.springframework.security.oauth2.client.token.grant.implicit.ImplicitAccessTokenProvider"/>                <bean class="org.springframework.security.oauth2.client.token.grant.password.ResourceOwnerPasswordAccessTokenProvider"/>                <bean class="org.springframework.security.oauth2.client.token.grant.client.ClientCredentialsAccessTokenProvider"/>            </list>        </constructor-arg>        <property name="clientTokenServices">            <bean class="com.github.gcaldemo.calendar.repository.impl.token.JsonClientTokenServices"/>        </property>    </bean></beans>